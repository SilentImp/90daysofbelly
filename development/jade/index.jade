<!DOCTYPE html>
html(lang="ru", ng-app="BellyDays")

  head
    meta(charset="UTF-8")
    title 90 Дней Живота
    link(href='http://fonts.googleapis.com/css?family=Lobster&subset=latin,cyrillic', rel='stylesheet', type='text/css')
    link(href='http://fonts.googleapis.com/css?family=Open+Sans:300&subset=latin,cyrillic', rel='stylesheet', type='text/css')
    link(rel="stylesheet", href="css/styles.css")

    script(src="js/jquery/dist/jquery.min.js")
    script(data-require="angular.js@*", data-semver="1.4.0-beta.4", src="https://code.angularjs.org/1.4.0-beta.4/angular.js")
    script(src="js/ng-file-upload/angular-file-upload-shim.min.js")
    script(src="js/ng-file-upload/angular-file-upload-all.min.js")

  body(
    class="state-{{page}}", 
    ng-controller="AppController")

    
    form.note-form(
      name="NoteForm",
      ng-submit="addNote()",
      ng-controller="NoteFormController")
      textarea(
        name="note", 
        autocomplete="off", 
        required="required",
        minlength="3", 
        cols="30", 
        rows="10", 
        placeholder="Дорогой дневничек, это я, жиробас, и сегодня…",
        ng-model="note"
        )
      button(
        type="submit"
        ng-disabled='!NoteForm.$valid')

    form.weight-form(
      name="WeightForm",
      ng-submit="addWeight()",
      ng-controller="WeightFormController")
      input(
        type="text", 
        autocomplete="off", 
        ng-model="weight"
        minlength="2",
        maxlength="7", 
        pattern="^[1-9][0-9]{1,2}(?: )?(?:кг)?(?:\\.)?$", 
        name="weight", 
        required="required", 
        placeholder="65 кг.",
        value="")
      button(
        type="submit",
        ng-disabled='!WeightForm.$valid')
      button(
        type="reset", 
        ng-click="show('list')")

    article.notes
      h2.notes__title 12 декабря, 67 день живота, вес: 97 киллограм
      section.notes__note
        p Я курю трубку и надеюсь что это поможет унять голод. 
        p Это казалось бы смешным но все более соблазнительными выглядят эти чудесные, волшебные, кактусы. Уверен, они обладают изысканным вкусом. Но я не могу позволить себе просто переступить через свои достижения. Я похудел на 200 грамм. И это, знаете ли, не мало.

    section.page__bg
    section.page(
      drag-over-class="dragover",
      ng-file-drop, 
      accept=".jpg,.png",
      ng-model="files"
      )
      
      section.landing
        h1.landing__title 90 дней
          br
          | живота
      
      nav.controls
        button.photo(
          type="button", 
          title="Добавьте фотографию",
          ng-file-select,
          accept=".jpg,.png",
          ng-model="files",
          ng-disabled = "uploading"
          )
          span.upload__progress(
            style="height:{{progress}}%"
            )
            span.upload__progress__invert

        button.weight(
          type="button", 
          title="Сколько вы сегодня весите?", 
          ng-show = "isWeight()",
          ng-click= "openWeightForm()")

        button.note(type="button", title="Оставьте заметку", ng-click="openNoteForm()")
      
      section.days
        
        section.day
          .day__date
            time(datetime="2014-02-08", title="8 февраля 2014 года") 7 
              span день
          .day__weight 97 кг
          .day__link
          nav.day__media
            button.day__photos(type="button")
              span.day__photos-count 2
                span фото
            button.day__notes(type="button")

        section.day
          .day__date
            time(datetime="2014-02-07", title="7 февраля 2014 года") 6
              span день
          .day__weight 97 кг
          .day__link
          nav.day__media
            button.day__photos(type="button")
              span.day__photos-count 15
                span фото

        section.day
          .day__date
            time(datetime="2014-02-06", title="6 февраля 2014 года") 5
              span день
          .day__weight 98 кг
          .day__link

        section.day
          .day__date
            time(datetime="2014-02-05", title="5 февраля 2014 года") 4
              span день
          .day__weight 98 кг
          .day__link
          nav.day__media
            button.day__notes(type="button")

        section.day
          .day__date
            time(datetime="2014-02-04", title="4 февраля 2014 года") 3
              span день
          .day__weight 99 кг
          .day__link
          nav.day__media
            button.day__notes(type="button")

        section.day
          .day__date
            time(datetime="2014-02-03", title="3 февраля 2014 года") 2
              span день
          .day__weight 99 кг
          .day__link
          nav.day__media
            button.day__photos(type="button")
              span.day__photos-count 
                span фото
            button.day__notes(type="button")

        section.day
          .day__date
            time(datetime="2014-02-02", title="2 февраля 2014 года") 1
              span день
          .day__weight 100 кг
          .day__link
          nav.day__media
            button.day__photos(type="button") 
              span.day__photos-count 5
                span фото
            button.day__notes(type="button")
      footer.day__footer
        p.day__footer-copy © 2015 Немцев Антон
        p.day__made-in-ukraine Сделано в Украине
        button.day__scroll-top(type="button")
      .day__overlay(ng-click="show('list')")

    script(src="js/script.js")