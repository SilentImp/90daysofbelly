sudo: true
language: node_js
branches:
  only:
  - server
before_script:
  - sudo apt-get -y install sshpass
  - sshpass -p $DEPLOY_PASS rsync -e 'ssh -o StrictHostKeyChecking=no' -r --exclude 'node_modules' ./* $DEPLOY_USER@$DEPLOY_HOST:$DEPLOY_PATH
  - ssh $DEPLOY_USER@$DEPLOY_HOST cd $DEPLOY_PATH | npm install | pm2 start server.js &
env:
  global:
  - secure: dy5XPBpBuu2QJCSlYN+y7SpZa7WVrEYr2CJdLNrxwmT4hddDs9bR81N5RKtE0eKQ+MLRU57ejgKJkeN027csQU8KZc28Wfvu073uTBamaurSH7zKBFv715DiPc/RnzGjMcWBL0QQXkd1FDho4l23Wd5qtbaXv091Lx8CrOjSzZeZAMbmzG8UJ3ymxtYbFvi6UTX6qmi1EgtdU7HWs5unGjX+s/XyM1xL0xX/5DIFYYEEgWolHkyFYUG6eYE5UbhF0ujaTMSWPBSvfDslf6rQRFEG+jdhaPPJgzLom+L5QX4frESyw+gJV7Scs8hnv0tXDd7ynK2L0vA6yOXNefGxarQfOgoh6WAVvLnbL6OBx7+En/TPIX9dWfP+n3jtmxtaVSb4e2P2CfXOJg7dFa/ZNuDaG9ODjfSlx2Q+l3XI6dhmg5Fq3o56NI5dZqYv+Guyn+LU3b4QUcuO4F/bcBwszJrSVwNJmn5egELtTCATJG+/34V2Oifr9KzJCJc7XbFYdYIXBXTNruwLsmbbB7sUw/DgmVtKDlecH3BuWoyT1IQhLfg4YDomxq1738miBuDrpW3k3SEEMis96M9kl0MTnHRxWUjcSMC1eSPrO0XCaMY/rsIdxBih0mEeKSg+Xsqww90BV+P5pTO6JBeOfxhyQkDGiDK8DMrwCM0Scs+8EOs=
  - secure: J51aeLYpZ4kTRKMj9AHG1lZJyVOtAqvRW8XwQNadUJ1vQ+RLGpb2WVOBelZfe+lrAhwFRblgrAUEPh/dlfw+A8UYXOR50+043tkidkp7wYVNNNPOqFvZXoaV/hN15pmKe0Jy6C4R5OlIlYABuYG8o5/5ilfAn0jkas4QLlC8eb1OK2HfOncRzcCzVDUs0jaLICOPODUz3CfoKNY7y8gl1FEg3yd/ovF7jnAOt85nG26hzTwxytJM8o15f9HVDN4X+BeK3BujjFEsJvRuciAuSguL7cZlnUmetePZbQmSYRCBslzju99GItFCtZnqz8lonxmAxikxj4WtfPgPSll5m1q1L9N891dzJ0HYPCtLMAYd/nt5SIMDJvXZC4OlxL86bXChEJCi6H845XhZY0cXuOeuDfFGg1aX5lb0OQx6X4jzMKeXTGnZzeWM71vMHCdYETr+r1kj+5Fjw3fV61N/V5/MPIUgOyOcPdXlRX0dYa++CCWdMZVuT21Prcz+2wdfmfWhmfSaxxQURJnLFVn53xKNEjEi0kMMJAy+e5djcRuHJqXD1BiPhGfdu9owZq0W8ALVVikPEEcVlBRMVlK7dDqwICpDL3Nk+R2FUvXtnx1HoM3RBfRkilBZlnwtOuijV3EzVajBkNhMJ+Tf5qKmmqwFW/KVHqnVybIKU2q/1VI=
  - secure: dBf2sVHn2D9OdbHfbZRH6X3VfDHNUBlABoC8daRs99TtqGqv/llVFHpTR0rc4/SqCWm8Qzsfj2NoK+MPhT6DlINv+HSh9KwK91RhRKOjupBgiRzv+x3+1jL5s8XmQoxohPwkx8PRlsa3uEZ71gzPmP9SZBmAzNNwZK4gdCQNOdQwXT6R8l4n5a2Ojh1fdViU9qtcwsXW5k9kjDQZhfqa6wnGXM4xHY75NQOEZ6Wx3wg/pr4nYIGRtASPwrnkkSAF03pAGJ5vD8PIuDjnp+w9sv6B0d9ptL6HLEGH3ZUUkF2pD2BiM/73DOCxf/H2MZlQS4/TLdMEw76Wk2QXlS8vnxSAy/sFujaVfFwSMkmTzaR6UOvtN9eylEYpieacTaJX4HXjO24ulUvbow6MiWtDjgRruF0vg1eqfyGtM6MWLYd7S2geMGN6v5RRg11wNeDS8LA+9eWYsQ6MJKIh6DxzIwNmWHxtW2+ywm2GfhEvs3rpGt4ctzZ2eDkmzeX4R5jdE45CPRH+uy1E7q33iezQgHDAcBZvSIhtBzjKeKY1vH2/MWspcukahIiumNUfJxou2i1DpCPm03zzFvKO7wYY23NfrYDZCsiEstLnIqyxzArKa5EmhMZNPgm/j51PK9Vkpx8pNC7aN6cRTgLizlmrgyUJdb9e1n9Ij4/wq41e5YQ=
  - secure: EL5FJ6/bFzllBNWf/zBag3PG+q5Npol1fbilBq7/RBx0VE8ojo+ye42Yy0Yxb56/088tgxeDDrmn0DuwyN2A4xns19zeA9FZjmKdmjtGEvvvC2P+tGGqKP5D0rng3YB+uPF2z18DGji1VIUX2kc/NRAqUXRwfXsbsNkpQtEaxQ6zPP4n6P4JtxMrbzUpIn0k/BvCraIcg+z7wcaXYjcxGyq1iMRhdZ/5baH1nN6DN5js55GE6XnjVahG6JZ3FLZZbXS7fm/pOX5CxiRV+qV5os4suHeASmN7Zi0Z7un3cJRvfrd5niOEBud2gJRJqd89ics37sfAOBdgRoknc2afy8Hpj3OPQwqVIRETrc8ZFObOjIihA5szyR0xYs26bkUKc3CTqKnSU9qQyUgC0o5kyoShFObCPRpyzr6YEW2nq4EordQgLmugu8hpu3HqdjzwRAgNhb0Y58tPa3clbqxuoN/tK0pI5UDbVcVEzg6CFy96PlZL0l/zUVxw8Jvqqdh6SDagy+cXnUDy30mAWNxIL7mEMh8ABNwoqVKaF9cc+6VxdX+gZd5QUuwvY8/cG8MSBrQMV8CKRqZNYh8eS7XeSt2lkBHMlwcNpxTuXuOwCqE/74SaTMuW94tOgeJncNw3XjbOGm9HfOIrrXOVv0/AJohUW5Gw2kM2NYGMmt8RnlU=
